# recipes/level-2-intermediate/sovereign-voice-assistant/credentials.yml

# ==============================================================================
# REST Channel (for API/Testing)
# ==============================================================================
# Enables /webhooks/rest/webhook for programmatic access and automated testing
rest:

# ==============================================================================
# Browser Audio Channel with Rime TTS and Deepgram ASR
# ==============================================================================
browser_audio:
  server_url: localhost
  
  # Deepgram Speech Recognition (ASR)
  asr:
    name: deepgram
    language: en
    model: nova-2-general
    smart_format: true
    endpointing: 400  # milliseconds of silence to detect end of speech
    utterance_end_ms: 1000  # milliseconds to wait before considering utterance complete
 
 # Neuphonic Text-to-Speech (TTS)
 tts:
  name: custom
  module: services.neutts_service.NeuTTSService
  config:
    backbone_repo: neuphonic/neutts-air-q8-gguf
    codec_repo: neuphonic/neucodec-onnx-decoder
    device: cpu
 #     auto_generate_reference: true

  # Rime Text-to-Speech (TTS)
  tts:
    name: rime
    speaker: cove  # Natural male voice
    model_id: mistv2
    speed_alpha: 1.0  # Normal speed
    segment: immediate  # Low latency mode
    timeout: 30