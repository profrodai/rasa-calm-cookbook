# recipes/level-2-intermediate/meeting-intelligence-agent/credentials.yml

# ==============================================================================
# REST Channel (for API/Testing)
# ==============================================================================
rest:

# ==============================================================================
# Browser Audio Channel with Custom NeuTTS Air TTS and Whisper ASR
# ==============================================================================
browser_audio:
  server_url: localhost
  
  # Whisper Speech Recognition (ASR) - Using faster-whisper
  # Note: Custom ASR component is optional. We can use Deepgram instead.
  asr:
    name: deepgram  # Using Deepgram for now (simpler integration)
    language: en
    model: nova-2-general
    smart_format: true
    endpointing: 400
    utterance_end_ms: 1000
  
  # Alternative: Custom Whisper ASR (if implemented)
  # asr:
  #   name: addons.whisper_asr.WhisperASR
  #   model: medium.en
  #   device: cpu  # or mps for M4 GPU
  #   language: en
  
  # NeuTTS Air Text-to-Speech (Custom Component)
  tts:
    name: addons.neutts_tts.NeuTTSTTS
    backbone_repo: neuphonic/neutts-air-q4-gguf
    codec_repo: neuphonic/neucodec
    backbone_device: cpu
    codec_device: cpu
    reference_audio: reference_voices/male_professional.wav
    reference_text: reference_voices/male_professional.txt
    sample_rate: 24000
    target_sample_rate: 8000  # Rasa browser audio expects 8kHz mulaw
    timeout: 30

# ==============================================================================
# Notes on Configuration
# ==============================================================================
# 
# ASR Options:
# 1. Deepgram (cloud, requires API key in .env)
# 2. Custom Whisper (local, requires implementation in addons/whisper_asr.py)
#
# TTS:
# - NeuTTS Air custom component (in addons/neutts_tts.py)
# - Outputs 24kHz audio, resampled to 8kHz mulaw for Rasa
# - Reference voice can be changed by updating reference_audio/reference_text paths
#
# Voice References:
# - reference_voices/male_professional.wav - Default male voice
# - reference_voices/female_professional.wav - Alternative female voice
# - reference_voices/custom_voice.wav - Add your own!